---
aip:
  id: 3000
  state: draft
  created: 2020-01-15
js:
  - /assets/js/graphviz/viz.js
  - /assets/js/graphviz/lite.render.js
  - /assets/js/aip/aip-graphviz.js
permalink: /3000
---

# Fields

## Avoid Repeated JSON Fields 

While the JSON specification does allow for repeated fields, our recommendation is to steer away from their usage. Deserialization of repeated fields can be interpreted differently by different JSON parsers on what the resulting values are.
**APIs MUST not use repeated JSON fields**.

For example avoid the below:

```
{"data": {
    "customer": {
        ...
        "alias": "foo", // Avoid, no ordering guarantee on parsing
        "alias": "bar",
        "alias": "baz"
     }
 }
}
```

Consider the following way of representing the repeated fields instead:

```
{"data": {
    "customer": {
        ...
        "aliases": ["foo", "bar", "baz"] // Preferred, ordered
     }
 }
}
```

Reference:

* [Stack Overflow discussion on repeated JSON Fields](https://stackoverflow.com/questions/21832701/does-json-syntax-allow-duplicate-keys-in-an-object)

